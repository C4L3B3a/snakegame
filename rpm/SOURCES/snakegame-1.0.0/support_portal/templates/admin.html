{% extends "base.html" %} <!-- It's part of base.html, so it doesn't need the entire <body>, <html>, <title> stuff.-->

{% block content %}
<!-- Page title showing ticket ID and title -->
<h2>Ticket #{{ ticket[0] }} - {{ ticket[2] }}</h2>

<!-- Display ticket submitter username -->
<p><strong>User:</strong> {{ ticket[1] }}</p>

<!-- Display ticket description -->
<p><strong>Description:</strong> {{ ticket[3] }}</p>

<!-- Display current ticket status (Open / Resolved) -->
<p><strong>Status:</strong> {{ ticket[4] }}</p>

{% if is_admin %}
<!-- Admin view: can reply to ticket -->
<form method="POST">
    <label>Reply:</label><br>
    <!-- Pre-fill textarea if a reply already exists -->
    <textarea name="reply">{{ ticket[5] or "" }}</textarea><br>
    <button type="submit">Submit Reply</button>
</form>
{% elif ticket[5] %}
<!-- User view: show reply if admin has replied -->
<p><strong>Reply:</strong> {{ ticket[5] }}</p>
{% endif %}

<!-- Back button to return to dashboard -->
<a href="{{ url_for('dashboard') }}">Back</a>
{% endblock %}

<!-- By C4L -->